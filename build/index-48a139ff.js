import{S as e,i as s,s as a,e as i,a as t,t as n,b as o,d as r,c as l,l as m,p,n as c,f as d,g as u,o as h,q as g}from"./main.js";function b(e){let s,a,u,h,g,b,y,v,j,k,S,w,M,T,q,x;return{c(){s=i("script"),u=t(),h=i("img"),b=t(),y=i("p"),y.textContent="Randomly assign a secret side mission to each player:",v=t(),j=i("form"),k=i("input"),S=n("\n    vs.\n    "),w=i("input"),M=t(),T=i("input"),s.src!==(a="https://smtpjs.com/v3/smtp.js")&&o(s,"src","https://smtpjs.com/v3/smtp.js"),h.src!==(g="/images/lpkb2gkaw4s51.jpg")&&o(h,"src","/images/lpkb2gkaw4s51.jpg"),o(h,"alt","mission briefing"),o(h,"class","svelte-1gh7ed8"),o(k,"type","email"),o(k,"name","email1"),o(k,"pattern",f),o(k,"title","player 1 email address"),k.required=!0,o(k,"placeholder","Player's email"),o(w,"type","email"),o(w,"name","email2"),o(w,"pattern",f),o(w,"title","player 2 email address"),w.required=!0,o(w,"placeholder","Player's email"),o(T,"type","submit"),T.value="Submit"},m(a,i){r(document.head,s),l(a,u,i),l(a,h,i),l(a,b,i),l(a,y,i),l(a,v,i),l(a,j,i),r(j,k),r(j,S),r(j,w),r(j,M),r(j,T),q||(x=m(j,"submit",p(e[0])),q=!0)},p:c,i:c,o:c,d(e){d(s),e&&d(u),e&&d(h),e&&d(b),e&&d(y),e&&d(v),e&&d(j),q=!1,x()}}}const f="[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$";function y(e){return Math.floor(Math.random()*Math.floor(e))}function v(e,s,a){let i;return u(e,g,e=>a(2,i=e)),h.title="Mission generator",h.description="Description coming soon...",[function(e){const s=i.parent.children.filter(e=>"/missions"===e.path)[0].children.map(e=>e.path.slice(1)),a=window.location.href+s[y(s.length)];Email.send({SecureToken:"0b6eed09-ca2b-41ed-9283-2d33686b5dd2",To:e.target.email1.value,From:"missions@philippesimpson.dk",Subject:"You have been assigned a secret side mission",Body:`See your mission <a href=${a}>here</a>`}).then(s=>console.log(s,e.target.email1.value,a));const t=window.location.href+s[y(s.length)];Email.send({SecureToken:"0b6eed09-ca2b-41ed-9283-2d33686b5dd2",To:e.target.email2.value,From:"missions@philippesimpson.dk",Subject:"You have been assigned a secret side mission",Body:`See your mission <a href=${t}>here</a>`}).then(s=>console.log(s,e.target.email2.value,t))}]}export default class extends e{constructor(e){super(),s(this,e,v,b,a,{})}}
//# sourceMappingURL=index-48a139ff.js.map
