{"version":3,"file":"index-7b4bb02c.js","sources":["../../src/pages/index.svelte"],"sourcesContent":["<script>\n    import { metatags, layout, url } from '@sveltech/routify';\n    metatags.title = 'Mission generator';\n    metatags.description = 'Description coming soon...';\n\n    const emailPattern = \"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\";\n\n    function getRandomInt(max) {\n        return Math.floor(Math.random() * Math.floor(max));\n    }\n\n    function generate(event) {\n        const urls =  Array.from(document.querySelectorAll(\"a\"))\n            .filter(el => el.href.includes('mission'))\n            .map(el => el.href);\n\n        const randomUrl = urls[getRandomInt(urls.length)];\n\n        // Assign mission to player #1:\n        Email.send({\n            SecureToken : \"0b6eed09-ca2b-41ed-9283-2d33686b5dd2\",\n            To : event.target.email1.value,\n            From : \"missions@philippesimpson.dk\",\n            Subject : \"You have been assigned a secret side mission\",\n            Body : `See your mission <a href=${randomUrl}>here</a>`\n        }).then(\n            message => console.log(message)\n        );\n\n        // Assign mission to player #1:\n        Email.send({\n            SecureToken : \"0b6eed09-ca2b-41ed-9283-2d33686b5dd2\",\n            To : event.target.email2.value,\n            From : \"missions@philippesimpson.dk\",\n            Subject : \"You have been assigned a secret side mission\",\n            Body : `See your mission <a href=${randomUrl}>here</a>`\n        }).then(\n            message => console.log(message)\n        );\n    }\n</script>\n\n<svelte:head>\n    <script src=\"https://smtpjs.com/v3/smtp.js\"></script>\n    <base href=\"/missions\">\n</svelte:head>\n\n<h1>Bolt Action side missions generator</h1>\n\n<form on:submit|preventDefault={generate}>\n    <label for=\"email1\">Player #1</label>\n    <input\n        type=\"email\"\n        name=\"email1\"\n        pattern={emailPattern} title=\"player 1 email address\"\n        required\n        placeholder=\"Enter email\">\n    <br>\n    <label for=\"email2\">Player #2</label>\n    <input\n        type=\"email\"\n        name=\"email2\"\n        pattern={emailPattern} title=\"player 2 email address\"\n        required\n        placeholder=\"Enter email\">\n    <br>\n    <input type=\"submit\">\n</form>\n"],"names":["emailPattern","generate","event","urls","Array","from","document","querySelectorAll","filter","el","href","includes","map","randomUrl","max","length","Math","floor","random","Email","send","SecureToken","To","target","email1","value","From","Subject","Body","then","message","console","log","email2","metatags","title","description"],"mappings":"8qBAsDiBA,mKAQAA,iSAbeC,uFA5CtBD,EAAe,iDAMZC,EAASC,SACRC,EAAQC,MAAMC,KAAKC,SAASC,iBAAiB,MAC9CC,OAAOC,GAAMA,EAAGC,KAAKC,SAAS,YAC9BC,IAAIH,GAAMA,EAAGC,MAEZG,EAAYV,GATAW,EASkBX,EAAKY,OARlCC,KAAKC,MAAMD,KAAKE,SAAWF,KAAKC,MAAMH,UAD3BA,EAYlBK,MAAMC,MACFC,YAAc,uCACdC,GAAKpB,EAAMqB,OAAOC,OAAOC,MACzBC,KAAO,8BACPC,QAAU,+CACVC,iCAAmCf,eACpCgB,KACCC,GAAWC,QAAQC,IAAIF,IAI3BX,MAAMC,MACFC,YAAc,uCACdC,GAAKpB,EAAMqB,OAAOU,OAAOR,MACzBC,KAAO,8BACPC,QAAU,+CACVC,iCAAmCf,eACpCgB,KACCC,GAAWC,QAAQC,IAAIF,yBAnC/BI,EAASC,MAAQ,oBACjBD,EAASE,YAAc"}